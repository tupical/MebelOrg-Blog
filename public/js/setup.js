!function(e){e(document).ready(function(){e(".xzoom, .xzoom-gallery").xzoom({zoomWidth:400,title:!0,tint:"#333",Xoffset:15}),e(".xzoom2, .xzoom-gallery2").xzoom({position:"#xzoom2-id",tint:"#ffa200"}),e(".xzoom3, .xzoom-gallery3").xzoom({position:"lens",lensShape:"circle",sourceClass:"xzoom-hidden"}),e(".xzoom4, .xzoom-gallery4").xzoom({tint:"#006699",Xoffset:15}),e(".xzoom5, .xzoom-gallery5").xzoom({tint:"#006699",Xoffset:15});var o="ontouchstart"in window;o?(e(".xzoom, .xzoom2, .xzoom3, .xzoom4, .xzoom5").each(function(){var o=e(this).data("xzoom");o.eventunbind()}),e(".xzoom, .xzoom2, .xzoom3").each(function(){var o=e(this).data("xzoom");e(this).hammer().on("tap",function(e){e.pageX=e.gesture.center.pageX,e.pageY=e.gesture.center.pageY;o.eventmove=function(e){e.hammer().on("drag",function(e){e.pageX=e.gesture.center.pageX,e.pageY=e.gesture.center.pageY,o.movezoom(e),e.gesture.preventDefault()})},o.eventleave=function(e){e.hammer().on("tap",function(e){o.closezoom()})},o.openzoom(e)})}),e(".xzoom4").each(function(){var o=e(this).data("xzoom");e(this).hammer().on("tap",function(t){function n(){2==a?(o.closezoom(),e.fancybox.open(o.gallery().cgallery)):o.closezoom(),a=0}t.pageX=t.gesture.center.pageX,t.pageY=t.gesture.center.pageY;o.eventmove=function(e){e.hammer().on("drag",function(e){e.pageX=e.gesture.center.pageX,e.pageY=e.gesture.center.pageY,o.movezoom(e),e.gesture.preventDefault()})};var a=0;o.eventclick=function(e){e.hammer().on("tap",function(){a++,1==a&&setTimeout(n,300),t.gesture.preventDefault()})},o.openzoom(t)})}),e(".xzoom5").each(function(){var o=e(this).data("xzoom");e(this).hammer().on("tap",function(t){function n(){if(2==a){o.closezoom();var t,n=o.gallery().cgallery,r=new Array;for(t in n)r[t]={src:n[t]};e.magnificPopup.open({items:r,type:"image",gallery:{enabled:!0}})}else o.closezoom();a=0}t.pageX=t.gesture.center.pageX,t.pageY=t.gesture.center.pageY;o.eventmove=function(e){e.hammer().on("drag",function(e){e.pageX=e.gesture.center.pageX,e.pageY=e.gesture.center.pageY,o.movezoom(e),e.gesture.preventDefault()})};var a=0;o.eventclick=function(e){e.hammer().on("tap",function(){a++,1==a&&setTimeout(n,300),t.gesture.preventDefault()})},o.openzoom(t)})})):(e("#xzoom-fancy").bind("click",function(o){var t=e(this).data("xzoom");t.closezoom(),e.fancybox.open(t.gallery().cgallery,{padding:0,helpers:{overlay:{locked:!1}}}),o.preventDefault()}),e("#xzoom-magnific").bind("click",function(o){var t=e(this).data("xzoom");t.closezoom();var n,a=t.gallery().cgallery,r=new Array;for(n in a)r[n]={src:a[n]};e.magnificPopup.open({items:r,type:"image",gallery:{enabled:!0}}),o.preventDefault()}))})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNldHVwLmpzIl0sIm5hbWVzIjpbIiQiLCJkb2N1bWVudCIsInJlYWR5IiwieHpvb20iLCJ6b29tV2lkdGgiLCJ0aXRsZSIsInRpbnQiLCJYb2Zmc2V0IiwicG9zaXRpb24iLCJsZW5zU2hhcGUiLCJzb3VyY2VDbGFzcyIsImlzVG91Y2hTdXBwb3J0ZWQiLCJ3aW5kb3ciLCJlYWNoIiwidGhpcyIsImRhdGEiLCJldmVudHVuYmluZCIsImhhbW1lciIsIm9uIiwiZXZlbnQiLCJwYWdlWCIsImdlc3R1cmUiLCJjZW50ZXIiLCJwYWdlWSIsImV2ZW50bW92ZSIsImVsZW1lbnQiLCJtb3Zlem9vbSIsInByZXZlbnREZWZhdWx0IiwiZXZlbnRsZWF2ZSIsImNsb3Nlem9vbSIsIm9wZW56b29tIiwib3BlbmZhbmN5IiwiY291bnRlciIsImZhbmN5Ym94Iiwib3BlbiIsImdhbGxlcnkiLCJjZ2FsbGVyeSIsImV2ZW50Y2xpY2siLCJzZXRUaW1lb3V0Iiwib3Blbm1hZ25pZmljIiwiaSIsImltYWdlcyIsIkFycmF5Iiwic3JjIiwibWFnbmlmaWNQb3B1cCIsIml0ZW1zIiwidHlwZSIsImVuYWJsZWQiLCJiaW5kIiwicGFkZGluZyIsImhlbHBlcnMiLCJvdmVybGF5IiwibG9ja2VkIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFXQSxHQUNQQSxFQUFFQyxVQUFVQyxNQUFNLFdBQ2RGLEVBQUUsMEJBQTBCRyxPQUFPQyxVQUFXLElBQUtDLE9BQU8sRUFBTUMsS0FBTSxPQUFRQyxRQUFTLEtBQ3ZGUCxFQUFFLDRCQUE0QkcsT0FBT0ssU0FBVSxhQUFjRixLQUFNLFlBQ25FTixFQUFFLDRCQUE0QkcsT0FBT0ssU0FBVSxPQUFRQyxVQUFXLFNBQVVDLFlBQWEsaUJBQ3pGVixFQUFFLDRCQUE0QkcsT0FBT0csS0FBTSxVQUFXQyxRQUFTLEtBQy9EUCxFQUFFLDRCQUE0QkcsT0FBT0csS0FBTSxVQUFXQyxRQUFTLElBRy9ELElBQUlJLEdBQW1CLGdCQUFrQkMsT0FFckNELElBRUFYLEVBQUUsOENBQThDYSxLQUFLLFdBQ2pELEdBQUlWLEdBQVFILEVBQUVjLE1BQU1DLEtBQUssUUFDekJaLEdBQU1hLGdCQUdWaEIsRUFBRSw0QkFBNEJhLEtBQUssV0FDL0IsR0FBSVYsR0FBUUgsRUFBRWMsTUFBTUMsS0FBSyxRQUN6QmYsR0FBRWMsTUFBTUcsU0FBU0MsR0FBRyxNQUFPLFNBQVNDLEdBQ2hDQSxFQUFNQyxNQUFRRCxFQUFNRSxRQUFRQyxPQUFPRixNQUNuQ0QsRUFBTUksTUFBUUosRUFBTUUsUUFBUUMsT0FBT0MsS0FHbkNwQixHQUFNcUIsVUFBWSxTQUFTQyxHQUN2QkEsRUFBUVIsU0FBU0MsR0FBRyxPQUFRLFNBQVNDLEdBQ2pDQSxFQUFNQyxNQUFRRCxFQUFNRSxRQUFRQyxPQUFPRixNQUNuQ0QsRUFBTUksTUFBUUosRUFBTUUsUUFBUUMsT0FBT0MsTUFDbkNwQixFQUFNdUIsU0FBU1AsR0FDZkEsRUFBTUUsUUFBUU0sb0JBSXRCeEIsRUFBTXlCLFdBQWEsU0FBU0gsR0FDeEJBLEVBQVFSLFNBQVNDLEdBQUcsTUFBTyxTQUFTQyxHQUNoQ2hCLEVBQU0wQixlQUdkMUIsRUFBTTJCLFNBQVNYLE9BSTNCbkIsRUFBRSxXQUFXYSxLQUFLLFdBQ2QsR0FBSVYsR0FBUUgsRUFBRWMsTUFBTUMsS0FBSyxRQUN6QmYsR0FBRWMsTUFBTUcsU0FBU0MsR0FBRyxNQUFPLFNBQVNDLEdBdUJoQyxRQUFTWSxLQUNVLEdBQVhDLEdBQ0E3QixFQUFNMEIsWUFDTjdCLEVBQUVpQyxTQUFTQyxLQUFLL0IsRUFBTWdDLFVBQVVDLFdBRWhDakMsRUFBTTBCLFlBRVZHLEVBQVUsRUE3QmRiLEVBQU1DLE1BQVFELEVBQU1FLFFBQVFDLE9BQU9GLE1BQ25DRCxFQUFNSSxNQUFRSixFQUFNRSxRQUFRQyxPQUFPQyxLQUduQ3BCLEdBQU1xQixVQUFZLFNBQVNDLEdBQ3ZCQSxFQUFRUixTQUFTQyxHQUFHLE9BQVEsU0FBU0MsR0FDakNBLEVBQU1DLE1BQVFELEVBQU1FLFFBQVFDLE9BQU9GLE1BQ25DRCxFQUFNSSxNQUFRSixFQUFNRSxRQUFRQyxPQUFPQyxNQUNuQ3BCLEVBQU11QixTQUFTUCxHQUNmQSxFQUFNRSxRQUFRTSxtQkFJdEIsSUFBSUssR0FBVSxDQUNkN0IsR0FBTWtDLFdBQWEsU0FBU1osR0FDeEJBLEVBQVFSLFNBQVNDLEdBQUcsTUFBTyxXQUN2QmMsSUFDZSxHQUFYQSxHQUFjTSxXQUFXUCxFQUFVLEtBQ3ZDWixFQUFNRSxRQUFRTSxvQkFhMUJ4QixFQUFNMkIsU0FBU1gsT0FJbkJuQixFQUFFLFdBQVdhLEtBQUssV0FDZCxHQUFJVixHQUFRSCxFQUFFYyxNQUFNQyxLQUFLLFFBQ3pCZixHQUFFYyxNQUFNRyxTQUFTQyxHQUFHLE1BQU8sU0FBU0MsR0F1QmhDLFFBQVNvQixLQUNMLEdBQWUsR0FBWFAsRUFBYyxDQUNkN0IsRUFBTTBCLFdBQ04sSUFDSVcsR0FEQUwsRUFBVWhDLEVBQU1nQyxVQUFVQyxTQUN2QkssRUFBUyxHQUFJQyxNQUNwQixLQUFLRixJQUFLTCxHQUNOTSxFQUFPRCxJQUFNRyxJQUFLUixFQUFRSyxHQUU5QnhDLEdBQUU0QyxjQUFjVixNQUFNVyxNQUFPSixFQUFRSyxLQUFLLFFBQVNYLFNBQVVZLFNBQVMsU0FFdEU1QyxHQUFNMEIsV0FFVkcsR0FBVSxFQWxDZGIsRUFBTUMsTUFBUUQsRUFBTUUsUUFBUUMsT0FBT0YsTUFDbkNELEVBQU1JLE1BQVFKLEVBQU1FLFFBQVFDLE9BQU9DLEtBR25DcEIsR0FBTXFCLFVBQVksU0FBU0MsR0FDdkJBLEVBQVFSLFNBQVNDLEdBQUcsT0FBUSxTQUFTQyxHQUNqQ0EsRUFBTUMsTUFBUUQsRUFBTUUsUUFBUUMsT0FBT0YsTUFDbkNELEVBQU1JLE1BQVFKLEVBQU1FLFFBQVFDLE9BQU9DLE1BQ25DcEIsRUFBTXVCLFNBQVNQLEdBQ2ZBLEVBQU1FLFFBQVFNLG1CQUl0QixJQUFJSyxHQUFVLENBQ2Q3QixHQUFNa0MsV0FBYSxTQUFTWixHQUN4QkEsRUFBUVIsU0FBU0MsR0FBRyxNQUFPLFdBQ3ZCYyxJQUNlLEdBQVhBLEdBQWNNLFdBQVdDLEVBQWEsS0FDMUNwQixFQUFNRSxRQUFRTSxvQkFrQnRCeEIsRUFBTTJCLFNBQVNYLFNBUW5CbkIsRUFBRSxnQkFBZ0JnRCxLQUFLLFFBQVMsU0FBUzdCLEdBQ3JDLEdBQUloQixHQUFRSCxFQUFFYyxNQUFNQyxLQUFLLFFBQ3pCWixHQUFNMEIsWUFDTjdCLEVBQUVpQyxTQUFTQyxLQUFLL0IsRUFBTWdDLFVBQVVDLFVBQVdhLFFBQVMsRUFBR0MsU0FBVUMsU0FBVUMsUUFBUSxNQUNuRmpDLEVBQU1RLG1CQUlWM0IsRUFBRSxtQkFBbUJnRCxLQUFLLFFBQVMsU0FBUzdCLEdBQ3hDLEdBQUloQixHQUFRSCxFQUFFYyxNQUFNQyxLQUFLLFFBQ3pCWixHQUFNMEIsV0FDTixJQUNJVyxHQURBTCxFQUFVaEMsRUFBTWdDLFVBQVVDLFNBQ3ZCSyxFQUFTLEdBQUlDLE1BQ3BCLEtBQUtGLElBQUtMLEdBQ05NLEVBQU9ELElBQU1HLElBQUtSLEVBQVFLLEdBRTlCeEMsR0FBRTRDLGNBQWNWLE1BQU1XLE1BQU9KLEVBQVFLLEtBQUssUUFBU1gsU0FBVVksU0FBUyxLQUN0RTVCLEVBQU1RLHVCQUluQjBCIiwiZmlsZSI6InNldHVwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgkKSB7XG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICQoJy54em9vbSwgLnh6b29tLWdhbGxlcnknKS54em9vbSh7em9vbVdpZHRoOiA0MDAsIHRpdGxlOiB0cnVlLCB0aW50OiAnIzMzMycsIFhvZmZzZXQ6IDE1fSk7XG4gICAgICAgICQoJy54em9vbTIsIC54em9vbS1nYWxsZXJ5MicpLnh6b29tKHtwb3NpdGlvbjogJyN4em9vbTItaWQnLCB0aW50OiAnI2ZmYTIwMCd9KTtcbiAgICAgICAgJCgnLnh6b29tMywgLnh6b29tLWdhbGxlcnkzJykueHpvb20oe3Bvc2l0aW9uOiAnbGVucycsIGxlbnNTaGFwZTogJ2NpcmNsZScsIHNvdXJjZUNsYXNzOiAneHpvb20taGlkZGVuJ30pO1xuICAgICAgICAkKCcueHpvb200LCAueHpvb20tZ2FsbGVyeTQnKS54em9vbSh7dGludDogJyMwMDY2OTknLCBYb2Zmc2V0OiAxNX0pO1xuICAgICAgICAkKCcueHpvb201LCAueHpvb20tZ2FsbGVyeTUnKS54em9vbSh7dGludDogJyMwMDY2OTknLCBYb2Zmc2V0OiAxNX0pO1xuXG4gICAgICAgIC8vSW50ZWdyYXRpb24gd2l0aCBoYW1tZXIuanNcbiAgICAgICAgdmFyIGlzVG91Y2hTdXBwb3J0ZWQgPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3c7XG5cbiAgICAgICAgaWYgKGlzVG91Y2hTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIC8vSWYgdG91Y2ggZGV2aWNlXG4gICAgICAgICAgICAkKCcueHpvb20sIC54em9vbTIsIC54em9vbTMsIC54em9vbTQsIC54em9vbTUnKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIHh6b29tID0gJCh0aGlzKS5kYXRhKCd4em9vbScpO1xuICAgICAgICAgICAgICAgIHh6b29tLmV2ZW50dW5iaW5kKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJCgnLnh6b29tLCAueHpvb20yLCAueHpvb20zJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgeHpvb20gPSAkKHRoaXMpLmRhdGEoJ3h6b29tJyk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5oYW1tZXIoKS5vbihcInRhcFwiLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wYWdlWCA9IGV2ZW50Lmdlc3R1cmUuY2VudGVyLnBhZ2VYO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wYWdlWSA9IGV2ZW50Lmdlc3R1cmUuY2VudGVyLnBhZ2VZO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IDEsIGxzO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICB4em9vbS5ldmVudG1vdmUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmhhbW1lcigpLm9uKCdkcmFnJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wYWdlWCA9IGV2ZW50Lmdlc3R1cmUuY2VudGVyLnBhZ2VYO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnBhZ2VZID0gZXZlbnQuZ2VzdHVyZS5jZW50ZXIucGFnZVk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeHpvb20ubW92ZXpvb20oZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Lmdlc3R1cmUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIHh6b29tLmV2ZW50bGVhdmUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmhhbW1lcigpLm9uKCd0YXAnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHh6b29tLmNsb3Nlem9vbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgeHpvb20ub3Blbnpvb20oZXZlbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnLnh6b29tNCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgeHpvb20gPSAkKHRoaXMpLmRhdGEoJ3h6b29tJyk7XG4gICAgICAgICAgICAkKHRoaXMpLmhhbW1lcigpLm9uKFwidGFwXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucGFnZVggPSBldmVudC5nZXN0dXJlLmNlbnRlci5wYWdlWDtcbiAgICAgICAgICAgICAgICBldmVudC5wYWdlWSA9IGV2ZW50Lmdlc3R1cmUuY2VudGVyLnBhZ2VZO1xuICAgICAgICAgICAgICAgIHZhciBzID0gMSwgbHM7XG5cbiAgICAgICAgICAgICAgICB4em9vbS5ldmVudG1vdmUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaGFtbWVyKCkub24oJ2RyYWcnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucGFnZVggPSBldmVudC5nZXN0dXJlLmNlbnRlci5wYWdlWDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnBhZ2VZID0gZXZlbnQuZ2VzdHVyZS5jZW50ZXIucGFnZVk7XG4gICAgICAgICAgICAgICAgICAgICAgICB4em9vbS5tb3Zlem9vbShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5nZXN0dXJlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBjb3VudGVyID0gMDtcbiAgICAgICAgICAgICAgICB4em9vbS5ldmVudGNsaWNrID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmhhbW1lcigpLm9uKCd0YXAnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyID09IDEpIHNldFRpbWVvdXQob3BlbmZhbmN5LDMwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5nZXN0dXJlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9wZW5mYW5jeSgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ZXIgPT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgeHpvb20uY2xvc2V6b29tKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmZhbmN5Ym94Lm9wZW4oeHpvb20uZ2FsbGVyeSgpLmNnYWxsZXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHh6b29tLmNsb3Nlem9vbSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXIgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHh6b29tLm9wZW56b29tKGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgICQoJy54em9vbTUnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHh6b29tID0gJCh0aGlzKS5kYXRhKCd4em9vbScpO1xuICAgICAgICAgICAgJCh0aGlzKS5oYW1tZXIoKS5vbihcInRhcFwiLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnBhZ2VYID0gZXZlbnQuZ2VzdHVyZS5jZW50ZXIucGFnZVg7XG4gICAgICAgICAgICAgICAgZXZlbnQucGFnZVkgPSBldmVudC5nZXN0dXJlLmNlbnRlci5wYWdlWTtcbiAgICAgICAgICAgICAgICB2YXIgcyA9IDEsIGxzO1xuXG4gICAgICAgICAgICAgICAgeHpvb20uZXZlbnRtb3ZlID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmhhbW1lcigpLm9uKCdkcmFnJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnBhZ2VYID0gZXZlbnQuZ2VzdHVyZS5jZW50ZXIucGFnZVg7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wYWdlWSA9IGV2ZW50Lmdlc3R1cmUuY2VudGVyLnBhZ2VZO1xuICAgICAgICAgICAgICAgICAgICAgICAgeHpvb20ubW92ZXpvb20oZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuZ2VzdHVyZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IDA7XG4gICAgICAgICAgICAgICAgeHpvb20uZXZlbnRjbGljayA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5oYW1tZXIoKS5vbigndGFwJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudGVyKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRlciA9PSAxKSBzZXRUaW1lb3V0KG9wZW5tYWduaWZpYywzMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuZ2VzdHVyZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvcGVubWFnbmlmaWMoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHh6b29tLmNsb3Nlem9vbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdhbGxlcnkgPSB4em9vbS5nYWxsZXJ5KCkuY2dhbGxlcnk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSwgaW1hZ2VzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgaW4gZ2FsbGVyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlc1tpXSA9IHtzcmM6IGdhbGxlcnlbaV19O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgJC5tYWduaWZpY1BvcHVwLm9wZW4oe2l0ZW1zOiBpbWFnZXMsIHR5cGU6J2ltYWdlJywgZ2FsbGVyeToge2VuYWJsZWQ6IHRydWV9fSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4em9vbS5jbG9zZXpvb20oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb3VudGVyID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeHpvb20ub3Blbnpvb20oZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL0lmIG5vdCB0b3VjaCBkZXZpY2VcblxuICAgICAgICAgICAgLy9JbnRlZ3JhdGlvbiB3aXRoIGZhbmN5Ym94IHBsdWdpblxuICAgICAgICAgICAgJCgnI3h6b29tLWZhbmN5JykuYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciB4em9vbSA9ICQodGhpcykuZGF0YSgneHpvb20nKTtcbiAgICAgICAgICAgICAgICB4em9vbS5jbG9zZXpvb20oKTtcbiAgICAgICAgICAgICAgICAkLmZhbmN5Ym94Lm9wZW4oeHpvb20uZ2FsbGVyeSgpLmNnYWxsZXJ5LCB7cGFkZGluZzogMCwgaGVscGVyczoge292ZXJsYXk6IHtsb2NrZWQ6IGZhbHNlfX19KTtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgIFxuICAgICAgICAgICAgLy9JbnRlZ3JhdGlvbiB3aXRoIG1hZ25pZmljIHBvcHVwIHBsdWdpblxuICAgICAgICAgICAgJCgnI3h6b29tLW1hZ25pZmljJykuYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciB4em9vbSA9ICQodGhpcykuZGF0YSgneHpvb20nKTtcbiAgICAgICAgICAgICAgICB4em9vbS5jbG9zZXpvb20oKTtcbiAgICAgICAgICAgICAgICB2YXIgZ2FsbGVyeSA9IHh6b29tLmdhbGxlcnkoKS5jZ2FsbGVyeTtcbiAgICAgICAgICAgICAgICB2YXIgaSwgaW1hZ2VzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICAgICAgZm9yIChpIGluIGdhbGxlcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VzW2ldID0ge3NyYzogZ2FsbGVyeVtpXX07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQubWFnbmlmaWNQb3B1cC5vcGVuKHtpdGVtczogaW1hZ2VzLCB0eXBlOidpbWFnZScsIGdhbGxlcnk6IHtlbmFibGVkOiB0cnVlfX0pO1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoalF1ZXJ5KTsiXX0=
